# Avito Shop Service

решение тестового задания для стажёра Backend-направления.

## Функциональность

- **Аутентификация**: Пользователь отправляет POST-запрос на `/api/auth` с именем и паролем. Если пользователь новый – он создаётся автоматически с 1000 монет, и выдается JWT-токен.
- **Получение информации**: GET `/api/info` возвращает:
  - Текущий баланс монет.
  - Список купленного мерча (инвентарь, сгруппированный по типам).
  - Историю переводов монет: полученные (с указанием, от кого) и отправленные (кому).
- **Перевод монет**: POST `/api/sendCoin` позволяет перевести указанное количество монет другому сотруднику (по имени).
- **Покупка мерча**: GET `/api/buy/{item}` позволяет купить мерч (название товара должно быть одним из: t-shirt, cup, book, pen, powerbank, hoody, umbrella, socks, wallet, pink-hoody) за монеты.

## Стек технологий

- FastAPI
- PostgreSQL
- Docker Compose

## Запуск

1. Убедитесь, что в корне проекта есть файл `.env` (см. пример выше).
2. Запустите сервис командой:

   ```bash
   docker-compose up --build
   ```

Сервис будет доступен по адресу: [http://localhost:8080](http://localhost:8080).

## Тестирование

В папке `tests/` приведены примеры интеграционных тестов. Чтобы запустить тесты, выполните:

```bash
pytest
```
